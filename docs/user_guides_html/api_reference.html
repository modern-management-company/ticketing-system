<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modern Management Ticketing System</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 24px;
      margin-bottom: 16px;
      font-weight: 600;
      color: #0366d6;
    }
    h1 { font-size: 2em; padding-bottom: 0.3em; border-bottom: 1px solid #eaecef; }
    h2 { font-size: 1.5em; padding-bottom: 0.3em; border-bottom: 1px solid #eaecef; }
    h3 { font-size: 1.25em; }
    pre {
      background-color: #f6f8fa;
      border-radius: 3px;
      padding: 16px;
      overflow: auto;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    }
    code {
      background-color: rgba(27, 31, 35, 0.05);
      border-radius: 3px;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
      padding: 0.2em 0.4em;
    }
    pre code {
      background-color: transparent;
      padding: 0;
    }
    a {
      color: #0366d6;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin: 1em 0;
    }
    table th, table td {
      border: 1px solid #dfe2e5;
      padding: 6px 13px;
    }
    table th {
      background-color: #f6f8fa;
      font-weight: 600;
    }
    nav.toc {
      background-color: #f6f8fa;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 5px;
    }
    nav.toc h4 {
      margin-top: 0;
    }
    .back-to-top {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #0366d6;
      color: white;
      padding: 10px 15px;
      border-radius: 5px;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <nav class="toc">
    <h4>Documentation Contents</h4>
    <ul>
      <li><a href="admin_guide.html">Admin Guide</a></li>
      <li><a href="api_reference.html">Api Reference</a></li>
      <li><a href="general_manager_guide.html">General Manager Guide</a></li>
      <li><a href="guest_guide.html">Guest Guide</a></li>
      <li><a href="installation.html">Installation</a></li>
      <li><a href="manager_guide.html">Manager Guide</a></li>
      <li><a href="super_admin_guide.html">Super Admin Guide</a></li>
      <li><a href="system_overview.html">System Overview</a></li>
      <li><a href="user_guide.html">User Guide</a></li>
    </ul>
  </nav>
<h1>API Reference</h1>
<p>This document provides a comprehensive reference for developers integrating with the Modern Management Ticketing System API.</p>
<h2>API Overview</h2>
<p>The Modern Management Ticketing System offers a RESTful API that allows developers to interact with all aspects of the system programmatically. The API uses standard HTTP methods and returns data in JSON format.</p>
<h3>Base URL</h3>
<pre><code>https://api.example.com/v1
</code></pre>
<h3>Authentication</h3>
<p>All API requests must be authenticated using one of the following methods:</p>
<h4>API Keys</h4>
<p>Include your API key in the request header:</p>
<pre><code>Authorization: Bearer YOUR_API_KEY
</code></pre>
<h4>OAuth 2.0</h4>
<p>The system supports OAuth 2.0 for more secure integrations. See the <a href="#authentication-guide">Authentication Guide</a> for details.</p>
<h3>Response Format</h3>
<p>All responses are in JSON format with the following structure:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    // Response data
  },
  &quot;meta&quot;: {
    &quot;pagination&quot;: {
      &quot;total&quot;: 100,
      &quot;count&quot;: 10,
      &quot;per_page&quot;: 10,
      &quot;current_page&quot;: 1,
      &quot;total_pages&quot;: 10,
      &quot;links&quot;: {
        &quot;next&quot;: &quot;https://api.example.com/v1/tickets?page=2&quot;
      }
    }
  }
}
</code></pre>
<h3>Error Handling</h3>
<p>Errors are returned with appropriate HTTP status codes and a consistent error format:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;error&quot;,
  &quot;error&quot;: {
    &quot;code&quot;: &quot;validation_error&quot;,
    &quot;message&quot;: &quot;The title field is required.&quot;,
    &quot;details&quot;: {
      &quot;title&quot;: [&quot;The title field is required.&quot;]
    }
  }
}
</code></pre>
<h3>Rate Limiting</h3>
<p>API requests are limited to 1000 requests per hour per API key. Rate limit information is included in the response headers:</p>
<pre><code>X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999
X-RateLimit-Reset: 1605170130
</code></pre>
<h2>Endpoints</h2>
<h3>Tickets</h3>
<h4>List Tickets</h4>
<pre><code>GET /tickets
</code></pre>
<p>Query Parameters:</p>
<ul>
<li><code>status</code> - Filter by ticket status (open, in_progress, closed)</li>
<li><code>priority</code> - Filter by priority (low, medium, high, critical)</li>
<li><code>assigned_to</code> - Filter by assigned user ID</li>
<li><code>property_id</code> - Filter by property ID</li>
<li><code>page</code> - Page number for pagination</li>
<li><code>per_page</code> - Items per page (default: 10, max: 100)</li>
<li><code>sort</code> - Sort field (created_at, updated_at, priority)</li>
<li><code>order</code> - Sort order (asc, desc)</li>
</ul>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: [
    {
      &quot;id&quot;: &quot;123e4567-e89b-12d3-a456-426614174000&quot;,
      &quot;title&quot;: &quot;Water leak in bathroom&quot;,
      &quot;description&quot;: &quot;There is water leaking from the ceiling in the bathroom&quot;,
      &quot;status&quot;: &quot;open&quot;,
      &quot;priority&quot;: &quot;high&quot;,
      &quot;category&quot;: &quot;plumbing&quot;,
      &quot;created_at&quot;: &quot;2023-01-15T15:30:00Z&quot;,
      &quot;updated_at&quot;: &quot;2023-01-15T15:30:00Z&quot;,
      &quot;property&quot;: {
        &quot;id&quot;: &quot;abc123&quot;,
        &quot;name&quot;: &quot;Seaside Apartments&quot;
      },
      &quot;unit&quot;: {
        &quot;id&quot;: &quot;unit456&quot;,
        &quot;name&quot;: &quot;Unit 101&quot;
      },
      &quot;requester&quot;: {
        &quot;id&quot;: &quot;user789&quot;,
        &quot;name&quot;: &quot;John Doe&quot;
      },
      &quot;assigned_to&quot;: {
        &quot;id&quot;: &quot;user101&quot;,
        &quot;name&quot;: &quot;Jane Smith&quot;
      }
    }
    // More tickets...
  ],
  &quot;meta&quot;: {
    &quot;pagination&quot;: {
      &quot;total&quot;: 100,
      &quot;count&quot;: 10,
      &quot;per_page&quot;: 10,
      &quot;current_page&quot;: 1,
      &quot;total_pages&quot;: 10,
      &quot;links&quot;: {
        &quot;next&quot;: &quot;https://api.example.com/v1/tickets?page=2&quot;
      }
    }
  }
}
</code></pre>
<h4>Get Ticket</h4>
<pre><code>GET /tickets/{ticket_id}
</code></pre>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: &quot;123e4567-e89b-12d3-a456-426614174000&quot;,
    &quot;title&quot;: &quot;Water leak in bathroom&quot;,
    &quot;description&quot;: &quot;There is water leaking from the ceiling in the bathroom&quot;,
    &quot;status&quot;: &quot;open&quot;,
    &quot;priority&quot;: &quot;high&quot;,
    &quot;category&quot;: &quot;plumbing&quot;,
    &quot;created_at&quot;: &quot;2023-01-15T15:30:00Z&quot;,
    &quot;updated_at&quot;: &quot;2023-01-15T15:30:00Z&quot;,
    &quot;property&quot;: {
      &quot;id&quot;: &quot;abc123&quot;,
      &quot;name&quot;: &quot;Seaside Apartments&quot;
    },
    &quot;unit&quot;: {
      &quot;id&quot;: &quot;unit456&quot;,
      &quot;name&quot;: &quot;Unit 101&quot;
    },
    &quot;requester&quot;: {
      &quot;id&quot;: &quot;user789&quot;,
      &quot;name&quot;: &quot;John Doe&quot;
    },
    &quot;assigned_to&quot;: {
      &quot;id&quot;: &quot;user101&quot;,
      &quot;name&quot;: &quot;Jane Smith&quot;
    },
    &quot;attachments&quot;: [
      {
        &quot;id&quot;: &quot;attach123&quot;,
        &quot;filename&quot;: &quot;leak.jpg&quot;,
        &quot;url&quot;: &quot;https://example.com/files/leak.jpg&quot;,
        &quot;size&quot;: 1024000,
        &quot;content_type&quot;: &quot;image/jpeg&quot;,
        &quot;created_at&quot;: &quot;2023-01-15T15:30:00Z&quot;
      }
    ],
    &quot;comments&quot;: [
      {
        &quot;id&quot;: &quot;comment123&quot;,
        &quot;text&quot;: &quot;I&#39;ll check this out this afternoon.&quot;,
        &quot;user&quot;: {
          &quot;id&quot;: &quot;user101&quot;,
          &quot;name&quot;: &quot;Jane Smith&quot;
        },
        &quot;created_at&quot;: &quot;2023-01-15T16:00:00Z&quot;
      }
    ]
  }
}
</code></pre>
<h4>Create Ticket</h4>
<pre><code>POST /tickets
</code></pre>
<p>Request Body:</p>
<pre><code class="language-json">{
  &quot;title&quot;: &quot;Water leak in bathroom&quot;,
  &quot;description&quot;: &quot;There is water leaking from the ceiling in the bathroom&quot;,
  &quot;priority&quot;: &quot;high&quot;,
  &quot;category&quot;: &quot;plumbing&quot;,
  &quot;property_id&quot;: &quot;abc123&quot;,
  &quot;unit_id&quot;: &quot;unit456&quot;
}
</code></pre>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: &quot;123e4567-e89b-12d3-a456-426614174000&quot;,
    &quot;title&quot;: &quot;Water leak in bathroom&quot;,
    &quot;description&quot;: &quot;There is water leaking from the ceiling in the bathroom&quot;,
    &quot;status&quot;: &quot;open&quot;,
    &quot;priority&quot;: &quot;high&quot;,
    &quot;category&quot;: &quot;plumbing&quot;,
    &quot;created_at&quot;: &quot;2023-01-15T15:30:00Z&quot;,
    &quot;updated_at&quot;: &quot;2023-01-15T15:30:00Z&quot;,
    &quot;property&quot;: {
      &quot;id&quot;: &quot;abc123&quot;,
      &quot;name&quot;: &quot;Seaside Apartments&quot;
    },
    &quot;unit&quot;: {
      &quot;id&quot;: &quot;unit456&quot;,
      &quot;name&quot;: &quot;Unit 101&quot;
    },
    &quot;requester&quot;: {
      &quot;id&quot;: &quot;user789&quot;,
      &quot;name&quot;: &quot;John Doe&quot;
    }
  }
}
</code></pre>
<h4>Update Ticket</h4>
<pre><code>PATCH /tickets/{ticket_id}
</code></pre>
<p>Request Body:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;in_progress&quot;,
  &quot;assigned_to&quot;: &quot;user101&quot;
}
</code></pre>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: &quot;123e4567-e89b-12d3-a456-426614174000&quot;,
    &quot;title&quot;: &quot;Water leak in bathroom&quot;,
    &quot;description&quot;: &quot;There is water leaking from the ceiling in the bathroom&quot;,
    &quot;status&quot;: &quot;in_progress&quot;,
    &quot;priority&quot;: &quot;high&quot;,
    &quot;category&quot;: &quot;plumbing&quot;,
    &quot;created_at&quot;: &quot;2023-01-15T15:30:00Z&quot;,
    &quot;updated_at&quot;: &quot;2023-01-15T16:30:00Z&quot;,
    &quot;property&quot;: {
      &quot;id&quot;: &quot;abc123&quot;,
      &quot;name&quot;: &quot;Seaside Apartments&quot;
    },
    &quot;unit&quot;: {
      &quot;id&quot;: &quot;unit456&quot;,
      &quot;name&quot;: &quot;Unit 101&quot;
    },
    &quot;requester&quot;: {
      &quot;id&quot;: &quot;user789&quot;,
      &quot;name&quot;: &quot;John Doe&quot;
    },
    &quot;assigned_to&quot;: {
      &quot;id&quot;: &quot;user101&quot;,
      &quot;name&quot;: &quot;Jane Smith&quot;
    }
  }
}
</code></pre>
<h4>Delete Ticket</h4>
<pre><code>DELETE /tickets/{ticket_id}
</code></pre>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: null
}
</code></pre>
<h3>Users</h3>
<h4>List Users</h4>
<pre><code>GET /users
</code></pre>
<p>Query Parameters:</p>
<ul>
<li><code>role</code> - Filter by user role (admin, manager, staff, guest)</li>
<li><code>property_id</code> - Filter by property ID (for assigned users)</li>
<li><code>page</code> - Page number for pagination</li>
<li><code>per_page</code> - Items per page (default: 10, max: 100)</li>
</ul>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: [
    {
      &quot;id&quot;: &quot;user101&quot;,
      &quot;name&quot;: &quot;Jane Smith&quot;,
      &quot;email&quot;: &quot;jane.smith@example.com&quot;,
      &quot;role&quot;: &quot;staff&quot;,
      &quot;created_at&quot;: &quot;2022-12-01T10:00:00Z&quot;,
      &quot;properties&quot;: [
        {
          &quot;id&quot;: &quot;abc123&quot;,
          &quot;name&quot;: &quot;Seaside Apartments&quot;
        }
      ]
    }
    // More users...
  ],
  &quot;meta&quot;: {
    &quot;pagination&quot;: {
      &quot;total&quot;: 50,
      &quot;count&quot;: 10,
      &quot;per_page&quot;: 10,
      &quot;current_page&quot;: 1,
      &quot;total_pages&quot;: 5,
      &quot;links&quot;: {
        &quot;next&quot;: &quot;https://api.example.com/v1/users?page=2&quot;
      }
    }
  }
}
</code></pre>
<h4>Get User</h4>
<pre><code>GET /users/{user_id}
</code></pre>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: &quot;user101&quot;,
    &quot;name&quot;: &quot;Jane Smith&quot;,
    &quot;email&quot;: &quot;jane.smith@example.com&quot;,
    &quot;phone&quot;: &quot;555-123-4567&quot;,
    &quot;role&quot;: &quot;staff&quot;,
    &quot;created_at&quot;: &quot;2022-12-01T10:00:00Z&quot;,
    &quot;updated_at&quot;: &quot;2023-01-15T16:30:00Z&quot;,
    &quot;properties&quot;: [
      {
        &quot;id&quot;: &quot;abc123&quot;,
        &quot;name&quot;: &quot;Seaside Apartments&quot;
      }
    ],
    &quot;preferences&quot;: {
      &quot;notifications&quot;: {
        &quot;email&quot;: true,
        &quot;sms&quot;: false
      }
    }
  }
}
</code></pre>
<h3>Properties</h3>
<h4>List Properties</h4>
<pre><code>GET /properties
</code></pre>
<p>Query Parameters:</p>
<ul>
<li><code>page</code> - Page number for pagination</li>
<li><code>per_page</code> - Items per page (default: 10, max: 100)</li>
</ul>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: [
    {
      &quot;id&quot;: &quot;abc123&quot;,
      &quot;name&quot;: &quot;Seaside Apartments&quot;,
      &quot;address&quot;: {
        &quot;street&quot;: &quot;123 Ocean Drive&quot;,
        &quot;city&quot;: &quot;Beachtown&quot;,
        &quot;state&quot;: &quot;CA&quot;,
        &quot;zip&quot;: &quot;90210&quot;,
        &quot;country&quot;: &quot;USA&quot;
      },
      &quot;units_count&quot;: 50,
      &quot;active_tickets_count&quot;: 12
    }
    // More properties...
  ],
  &quot;meta&quot;: {
    &quot;pagination&quot;: {
      &quot;total&quot;: 20,
      &quot;count&quot;: 10,
      &quot;per_page&quot;: 10,
      &quot;current_page&quot;: 1,
      &quot;total_pages&quot;: 2,
      &quot;links&quot;: {
        &quot;next&quot;: &quot;https://api.example.com/v1/properties?page=2&quot;
      }
    }
  }
}
</code></pre>
<h2>Webhooks</h2>
<p>The system can send webhook notifications for various events. To set up webhooks:</p>
<pre><code>POST /webhooks
</code></pre>
<p>Request Body:</p>
<pre><code class="language-json">{
  &quot;url&quot;: &quot;https://your-server.com/webhook-endpoint&quot;,
  &quot;events&quot;: [&quot;ticket.created&quot;, &quot;ticket.updated&quot;, &quot;ticket.resolved&quot;],
  &quot;secret&quot;: &quot;your_webhook_secret&quot;
}
</code></pre>
<p>Response:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: &quot;webhook123&quot;,
    &quot;url&quot;: &quot;https://your-server.com/webhook-endpoint&quot;,
    &quot;events&quot;: [&quot;ticket.created&quot;, &quot;ticket.updated&quot;, &quot;ticket.resolved&quot;],
    &quot;created_at&quot;: &quot;2023-01-15T15:30:00Z&quot;
  }
}
</code></pre>
<h3>Webhook Payload</h3>
<p>Webhook payloads follow this format:</p>
<pre><code class="language-json">{
  &quot;event&quot;: &quot;ticket.created&quot;,
  &quot;timestamp&quot;: &quot;2023-01-15T15:30:00Z&quot;,
  &quot;data&quot;: {
    // Event-specific data
  }
}
</code></pre>
<h2>Authentication Guide</h2>
<h3>Generating API Keys</h3>
<p>API keys can be generated in the admin panel:</p>
<ol>
<li>Navigate to Settings &gt; API Keys</li>
<li>Click &quot;Generate New API Key&quot;</li>
<li>Set permissions and expiration date</li>
<li>Copy the API key (shown only once)</li>
</ol>
<h3>OAuth 2.0 Integration</h3>
<p>For OAuth 2.0 integration, use the following endpoints:</p>
<pre><code>Authorization URL: https://api.example.com/oauth/authorize
Token URL: https://api.example.com/oauth/token
</code></pre>
<p>Parameters:</p>
<ul>
<li><code>client_id</code> - Your client ID</li>
<li><code>client_secret</code> - Your client secret</li>
<li><code>redirect_uri</code> - Your redirect URI</li>
<li><code>scope</code> - API scopes (space-separated)</li>
</ul>
<h4>Available Scopes</h4>
<ul>
<li><code>tickets:read</code> - Read ticket data</li>
<li><code>tickets:write</code> - Create and update tickets</li>
<li><code>users:read</code> - Read user data</li>
<li><code>properties:read</code> - Read property data</li>
</ul>
<h2>Pagination</h2>
<p>All list endpoints support pagination with the following query parameters:</p>
<ul>
<li><code>page</code> - Page number (default: 1)</li>
<li><code>per_page</code> - Items per page (default: 10, max: 100)</li>
</ul>
<h2>Versioning</h2>
<p>The API uses URI versioning (e.g., <code>/v1/tickets</code>). Major versions will be incremented for breaking changes.</p>
<h2>Rate Limiting</h2>
<p>The API has the following rate limits:</p>
<ul>
<li>1000 requests per hour for standard API keys</li>
<li>5000 requests per hour for premium API keys</li>
</ul>
<p>When a rate limit is exceeded, the API will return a 429 Too Many Requests response. </p>

  <a href="#" class="back-to-top">Back to Top</a>
  <script>
    // Add IDs to all headers for linking
    document.querySelectorAll('h2, h3, h4, h5, h6').forEach(header => {
      if (!header.id) {
        const id = header.textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-');
        header.id = id;
      }
    });
    
    // Create TOC for the current page
    const toc = document.createElement('div');
    toc.innerHTML = '<h4>Table of Contents</h4><ul></ul>';
    const tocList = toc.querySelector('ul');
    
    document.querySelectorAll('h2, h3').forEach(header => {
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + header.id;
      a.textContent = header.textContent;
      li.style.marginLeft = (header.tagName === 'H3' ? '20px' : '0');
      li.appendChild(a);
      tocList.appendChild(li);
    });
    
    // Insert TOC after the nav element
    const nav = document.querySelector('nav.toc');
    nav.after(toc);
  </script>
</body>
</html>